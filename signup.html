<!DOCTYPE html>
<html lang="ja">
	<html>
		<head>
			<meta charset="UTF-8" />
			<meta name="viewport" content="width = device-width" />
			<title></title>
			<link rel="stylesheet" href="css/style.css" />
		</head>
		<body>
			<header></header>
			<div class="signup">
				<div class="signup-triangle"></div>

				<h2 class="signup-header">Sign Up</h2>

				<div class="signup-container" id="signup-container">
					<p><input type="email" placeholder="Email" id="email" /></p>
					<p><input type="password" placeholder="Password" id="password" /></p>
					<p><input type="tel" placeholder="PhoneNumber" id="phonenumber" /></p>
					<p><input type="button" id="signUpButton" value="Sign up" /></p>
					<br />
					<p>
						<input type="text" placeholder="ConfirmCode" id="confirmcode" />
					</p>
					<p><input type="button" id="confirmButton" value="Confirm" /></p>
				</div>
			</div>
			<footer></footer>
			<script src="dist/index.js" type="module"></script>
			<script>
				document
					.getElementById("signUpButton")
					.addEventListener("click", function () {
						try {
							const param = {
								username: document.getElementById("email").value,
								password: document.getElementById("password").value,
								attributes: {
									// email: document.getElementById("email").value,
									phone_number: document.getElementById("phonenumber").value,
								},
							};
							Auth.signUp(param).then(() => {
								// // 確認コード入力用エリア作成
								// const input = document.createElement('input');
								// input.setAttribute("type","text");
								// input.setAttribute("id", "confirmcode");
								// input.setAttribute("placeholder","confirmCode");
								// document.getElementById("signup-container").appendChild(input);
								// // 確認コード送信用ボタン作成
								// const button = document.createElement('input');
								// input.type = 'button';
								// input.id = 'confirmButton';
								// input.value = 'Confirm';
								// document.getElementById("signup-container").appendChild(button);
								//
								console.log("Sign Up (not confirmed)");
							});
						} catch (error) {
							console.log("error signing up:", error);
						}
					});
				document
					.getElementById("confirmButton")
					.addEventListener("click", function () {
						Auth.confirmSignUp(
							document.getElementById("email").value,
							document.getElementById("confirmcode").value
						).then(() => {
							console.log("Sign Up Succeed!");
						});
					});
			</script>
		</body>
	</html>
</html>
